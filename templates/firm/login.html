<link href="../../static/css/admin/admin_home_page.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

{% extends "layout.html" %}
{% block title %}Ticketz -  Firm Login{% endblock %}
{% block body %}
<nav class="navbar fixed-top navbar-expand-md navbar-dark bg-dark">
<a href="/" class="navbar-brand">Ticketz</a>
<button onclick="deneme()" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar5">
	<span class="navbar-toggler-icon"></span>
</button>
<div class="navbar-collapse collapse" id="navbar5">
	<ul class="navbar-nav">
		<li class="nav-item active" ≈>
			<a class="nav-link" href="/" >Home <span class="sr-only">Home</span></a>
		</li>

	</ul>

</div>
</nav>
<br><br><br><br>
<div class="container">
	<div class="row">
		<div class="col-sm-2"></div>
		<div class="col-sm-7">
			<section class="content">
				<div class="card">

					<section class="content-header">
						<div class="container-fluid">
							<div class="row mb-2">
								<div class="col-sm-6">
									<h1>Firm Login</h1>
                                    {% if error %}
                                        <h1 style="color:red;">{{ error }}<h1>
                                    {% endif %}

								</div>
							</div>
						</div>
					</section>
					<div class="card-body">
						<form method="POST" type="submit" action="" enctype = "multipart/form-data"  role="form" name="login_firm" id="login_firm">
							<br>
							<label for="e_mail">Firm e-Mail*</label>
							<div class="input-group">
								<div class="input-group-prepend">
									<span class="input-group-text">
										<i class="fas fa-at"></i>
									</span>
								</div>
								<input pattern="[^ @]*@[^ @]*" name="e_mail" id="e_mail" type="email" class="form-control" placeholder="Enter The Firm e-Mail" maxlength="20" required>
							</div>
							<br>

							<label for="firm_password" >Firm Password*</label>
							<div class="input-group">
								<div class="input-group-prepend">
									<span class="input-group-text">
										<i class="fas fa-hotel"></i>
									</span>
								</div>
								<input name="password" id="password" type="password" class="form-control"  placeholder="Enter The Firm Password" maxlength="20" required>
							</div>


							<br>
					    <div class="card-footer">
							<button type="submit" onclick="add();" class="btn btn-info float-right">Submit</button>
							<button type="submit" class="btn btn-default" onclick="document.getElementById('login_firm').reset();">Clear</button>
						</div>
						</form>



                        <div class="message-box-danger-length" style="display: none">
							<div class="alert alert-danger alert-dismissible" style="display:block; margin: 10px;">
								<button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
								5-20 characters*</div>
						</div>
					</div>

						</div>
			</section>



		</div>

	</div>
</div>

<br>
<br>
    <script>
    function add()
{
    /*
    var $captcha = $( '#recaptcha' ),
        response = grecaptcha.getResponse();

    if (response.length === 0) {
        $( '.msg-error').text( "reCAPTCHA is mandatory" );
        if( !$captcha.hasClass( "error" ) ){
            $captcha.addClass( "error" );
            return false;
        }
    }
    else {
        $( '.msg-error' ).text('');
        $captcha.removeClass( "error" );
    }

*/
    let fill = true;
    let value_length = true;

    if($('#e_mail').val().length < 5 || $('#e_mail').val().length > 20 ){
        document.getElementById("e_mail").style.borderColor = "red";
        value_length = false;
    }
    else
        document.getElementById("e_mail").style.borderColor = "green";

    if (($('#password').val().length < 5 || $('#password').val().length > 20 )){
        document.getElementById("password").style.borderColor = "red";
        value_length = false;
    }
    else
        document.getElementById("password").style.borderColor = "green";


    if(fill && value_length){
        document.getElementById("login_firm").submit()
    }
    else{
            $(".message-box-danger-length").toggle(750, function () {
                setTimeout(function () {
                    $(".message-box-danger-length").toggle(750);
                }, 2500);
            });

   }

}
    </script>>
{% include "components/firm/footer.html" %}

{% endblock %}